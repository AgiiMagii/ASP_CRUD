@model ASP_CRUD.Student
@using System.Web.Mvc
@using System.Linq
@using ASP_CRUD.Lib
@Styles.Render("~/Content/Modal.css")

@{
    var genderItems = new List<SelectListItem>
{
    new SelectListItem { Value = "M", Text = "Male" },
    new SelectListItem { Value = "F", Text = "Female" }
};

    Factory factory = new Factory();
    var courseItems = factory.GetAllCourses()
        .Select(c => new SelectListItem
        {
            Value = c.ID_course.ToString(),
            Text = c.Name,
            Selected = (Model.ID_course == c.ID_course)
        })
        .ToList();
}


@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
   
    <div class="modal-overlay">
        <div class="modal-window">
            <div class="form-horizontal">
                <h4>Student</h4>
                <hr />
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                <div class="form-group">
                    @Html.LabelFor(model => model.ID_student, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.ID_student, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly" } })
                        @Html.ValidationMessageFor(model => model.ID_student, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.Name, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @class = "form-control", @id = "nameInput" } })
                        @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.Surname, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.Surname, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.Surname, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.Gender, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.DropDownListFor(model => model.Gender, genderItems, "Select Gender", new { @class = "form-control" })
                        @Html.ValidationMessageFor(model => model.Gender, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.Label("BirthYear", "Birth Date", htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">

                        <div class="form-inline">

                            @Html.DropDownList(
             "BirthYear_Year",
             (IEnumerable<SelectListItem>)ViewBag.YearItems,
             "Year",
             new { @class = "form-control", style = "width: 90px; margin-right:5px;" }
         )

                            @Html.DropDownList(
             "BirthYear_Month",
             (IEnumerable<SelectListItem>)ViewBag.MonthItems,
             "Month",
             new { @class = "form-control", style = "width: 90px; margin-right:5px;" }
         )

                            @Html.DropDownList(
             "BirthYear_Day",
             (IEnumerable<SelectListItem>)ViewBag.DayItems,
             "Day",
             new { @class = "form-control", style = "width: 90px;" }
         )
                        </div>

                        @Html.ValidationMessageFor(model => model.BirthYear, "", new { @class = "text-danger" })
                    </div>
                </div>


                <div class="form-group">
                    @Html.LabelFor(model => model.ID_course, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.DropDownListFor(model => model.ID_course, courseItems, "Select Course", new { @class = "form-control" })
                        @Html.ValidationMessageFor(model => model.ID_course, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.Scholarship, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.Scholarship, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.Scholarship, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group modal-buttons">
                    <input type="submit" value="Save" class="btn btn-primary" />
                    @Html.ActionLink("Back to List", "Students")
                </div>
            </div>

        </div>
    </div>
}
